// <header class='flex flex-wrap items-end w-100 mw9 pa3 center' role='banner'>
//   <a href='<?php echo home_url(); ?>' class='db ml3 f0 header--brand' aria-label='Home - Freshfield Nursery School'>
//     @svg('freshfield--text', 'dib freshfield--name')
//   </a>
//   <a href='tel:0161-442-6944' aria-label='telephone. 0 1 6 1. 4 4 2. 6 9 4 4.' class='freshfield--telephone'>0161 442 6944</a>
//   <a href='#content' class='screen-reader-text'>Skip navigation</a>
//   <nav id="navigation" class='relative w-100 pt5 pt0-m mt3 bg-brand-primary--contrast nav-primary'>
//     <div class='absolute top-0 right-0 db dn-m nav-mobile'>
//        $ yarn add hamburgers
//        https://jonsuh.com/hamburgers/
//       <button id='nav-toggle' class='hamburger hamburger--squeeze' type='button' aria-label='Menu' role='button' aria-controls='navigation'>
//         <span class='hamburger-label mr2 white'>Menu</span>
//         <span class='hamburger-box'>
//           <span class='hamburger-inner bg-white'></span>
//         </span>
//       </button>
//     </div>
//     @if (has_nav_menu('primary_navigation'))
//       {!! wp_nav_menu([
//         'theme_location'    => 'primary_navigation',
//         'depth'             => 2,
//         'menu_id'           => 'primary-nav',
//         'menu_class'        => 'dn flex-m pa0 ma0 list primary-navigation',
//         'fallback_cb'       => 'WP_Bootstrap_Navwalker::fallback',
//         'walker'            => new \App\WP_Bootstrap_Navwalker()
//       ]) !!}
//     @endif
//   </nav>
// </header>
// https://github.com/wp-bootstrap/wp-bootstrap-navwalker
// <nav class="w-100 mt3 bg-brand-primary--contrast nav-primary">
//     @if (has_nav_menu('primary_navigation'))
//       {!! wp_nav_menu([
//         'theme_location'    => 'primary_navigation',
//         'depth'             => 2,
//         'menu_id'           => 'primary-nav',
//         'menu_class'        => 'dn flex-m pa0 ma0 list primary-nav',
//         'fallback_cb'       => 'WP_Bootstrap_Navwalker::fallback',
//         'walker'            => new \App\WP_Bootstrap_Navwalker()
//       ]) !!}
//     @endif
//   </nav>



// <?php
//
// /***************************************************************
//  * Add class to li items -
//  * https://wordpress.stackexchange.com/questions/245503/add-a-custom-class-to-nav-li-item
// ***************************************************************/

// add_filter( 'nav_menu_css_class', 'dl_menu_item_classes', 10, 4 );

// function dl_menu_item_classes( $classes, $item, $args, $depth ) {
//     // unset($classes);
//     // $classes[] = 'relative flex flex-auto ma0 pa2-m pb0-m tc';
//     // return $classes;

//     if ( 'primary_navigation' === $args->theme_location ) {
//         $classes[] = 'relative dib ma0 pa2-m pb0-m tc';
//     }
//     elseif ( 'language_navigation' === $args->theme_location ) {
//         $classes[] = 'dib pa1 ma0';
//     }

//     return $classes;
// }




.primary-navigation {

  a,
  a:visited {
    display: block;
    width: 100%;
    padding: 1rem;
    font-family: $nav-font-family;
    font-size: $nav-font-size;
    font-weight: $font-weight-bold;
    color: $nav-font-color;
    text-decoration: none;
    background-color: $nav-bg-color;

    &:hover,
    &:focus,
    &:active {
      color: $nav-font-hover-color;
      background-color: $nav-bg-hover-color;
      outline: 0 dotted currentColor;
    }

    // dropdown arrow
    &:not(:only-child):after {
      padding-left: 4px;
      content: ' â–¾';
    }
  }

  // Dropdown list binds to JS toggle event
  .sub-menu {
    position: static;
    z-index: 1;
    display: none;
    width: 100%;
    padding: 0;
    margin: 0;

    a {
      line-height: 2;
      color: $nav-dd-font-color;
      background-color: $nav-dd-bg-color;

      &:hover,
      &:focus,
      &:active {
        color: $nav-dd-font-hover-color;
        background-color: $nav-dd-bg-hover-color;
      }
    }
  }

  .active {
    a {
      color: $white;
      background-color: $brand-secondary;
    }
  }
}

@media #{$breakpoint-medium} {

  .primary-navigation {
    display: flex !important; // required to reset nav on browser resize

    // a,
    // a:visited {
    //   padding: 0;
    //   line-height: 1;
    // }

    // Dropdown list binds to JS toggle event
    .sub-menu {
      position: absolute;

      li {
        min-width: 200px;
      }
    }
  }
}




// // vars
//     const navToggle = document.getElementById('nav-toggle');
//     const navPrimary = document.getElementById('primary-nav');
//     let navPrimaryLi = document.querySelectorAll('#primary-nav li.menu-item-has-children');



//     // closeOpenItems function
//     function closeOpenItems() {
//       let navPrimaryLi = document.querySelectorAll('#primary-nav li.menu-item-has-children.open');
//       navPrimaryLi.forEach(function(el) {
//         el.classList.remove('open');
//         el.firstElementChild.setAttribute('aria-expanded', 'false');
//         el.lastElementChild.style.display = 'none';
//       });
//     }



//     // event delegation
//     document.addEventListener('click', function(event) {
//       // outside element click
//       if (!event.target.closest('.primary-navigation')) {
//         closeOpenItems()
//       }
//       // element click
//       // Hamburger toggle -> Nav
//       if (event.target.matches('.hamburger')) {
//         navToggle.classList.toggle('is-active');
//         // navPrimary.classList.toggle('db');
//         slideToggle(navPrimary, 150);
//       }
//     });



//     Array.prototype.forEach.call(navPrimaryLi, function(el){
//       // show/hide sub-menus on click
//       el.querySelector('a').addEventListener('click', function(e){

//         if (this.parentNode.classList.contains('open')) {
//           closeOpenItems()
//         } else {
//           closeOpenItems()
//           this.parentNode.classList.add('open');
//           this.setAttribute('aria-expanded', 'true');
//           this.nextElementSibling.style.display = 'block';
//         }
//         e.preventDefault();
//       });
//     });
