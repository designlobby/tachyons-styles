// <header class='flex flex-wrap items-end w-100 mw9 pa3 center' role='banner'>
//   <a href='<?php echo home_url(); ?>' class='db ml3 f0 header--brand' aria-label='Home - Freshfield Nursery School'>
//     @svg('freshfield--text', 'dib freshfield--name')
//   </a>
//   <a href='tel:0161-442-6944' aria-label='telephone. 0 1 6 1. 4 4 2. 6 9 4 4.' class='freshfield--telephone'>0161 442 6944</a>
//   <a href='#content' class='screen-reader-text'>Skip navigation</a>
//   <nav id="navigation" class='relative w-100 pt5 pt0-m mt3 bg-brand-primary--contrast nav-primary'>
//     <div class='absolute top-0 right-0 db dn-m'>
//       <button id='nav-toggle' class='flex flex-row hamburger hamburger--squeeze' type='button' aria-label='Menu' role='button' aria-controls='navigation'>
//         <span class='hamburger-label mr2 white lh-copy v-top'>Menu</span>
//         <span class='hamburger-box'>
//           <span class='hamburger-inner'></span>
//         </span>
//       </button>
//     </div>
//     @if (has_nav_menu('primary_navigation'))
//       {!! wp_nav_menu([
//         'theme_location'    => 'primary_navigation',
//         'depth'             => 2,
//         'menu_id'           => 'primary-nav',
//         'menu_class'        => 'dn flex-m pa0 ma0 list primary-navigation',
//         'fallback_cb'       => 'WP_Bootstrap_Navwalker::fallback',
//         'walker'            => new \App\WP_Bootstrap_Navwalker()
//       ]) !!}
//     @endif
//   </nav>
// </header>
// https://github.com/wp-bootstrap/wp-bootstrap-navwalker
// <nav class="w-100 mt3 bg-brand-primary--contrast nav-primary">
//     @if (has_nav_menu('primary_navigation'))
//       {!! wp_nav_menu([
//         'theme_location'    => 'primary_navigation',
//         'depth'             => 2,
//         'menu_id'           => 'primary-nav',
//         'menu_class'        => 'dn flex-m pa0 ma0 list primary-nav',
//         'fallback_cb'       => 'WP_Bootstrap_Navwalker::fallback',
//         'walker'            => new \App\WP_Bootstrap_Navwalker()
//       ]) !!}
//     @endif
//   </nav>



// <?php

// /***************************************************************
//  * Add class to li items -
//  * https://wordpress.stackexchange.com/questions/245503/add-a-custom-class-to-nav-li-item
// ***************************************************************/

// add_filter( 'nav_menu_css_class', 'dl_menu_item_classes', 10, 4 );

// function dl_menu_item_classes( $classes, $item, $args, $depth ) {
//     // unset($classes);
//     // $classes[] = 'relative flex flex-auto ma0 pa2-m pb0-m tc';
//     // return $classes;

//     if ( 'primary_navigation' === $args->theme_location ) {
//         $classes[] = 'relative db pa0 ma0';
//     }
//     // elseif ( 'footer_navigation' === $args->theme_location ) {
//     //     $classes[] = 'pa0 ma0 mr3';
//     // }
//     // elseif ( 'legal_navigation' === $args->theme_location ) {
//     //     $classes[] = 'dib pa0 ma0 mh2';
//     // }

//     return $classes;
// }

// **************************************************************
//  * Add class to anchor items in specific menu -
//  * https://stackoverflow.com/questions/42994156/wordpress-menu-add-class-to-anchors
// **************************************************************

// function dl_add_class_anchors( $atts, $item, $args ) {

//     $menuClassMap = [
//         'primary-navigation' => 'db pa3 f5 fw7 white hover-white no-underline',
//         // 'mobile-navigation' => 'my-mobile-menu-link-class',
//     ];

//     $additionalClassName = $menuClassMap[$args->menu->slug] ?? '';

//     if($additionalClassName){
//         if(!array_key_exists('class', $atts)){
//             $atts['class'] = '';
//         }
//         $classList = explode (' ' , $atts['class']);
//         $classList[] = $additionalClassName;
//         $atts['class'] = implode (' ' , $classList);
//     }
//     return $atts;

// }

// add_filter( 'nav_menu_link_attributes', 'dl_add_class_anchors', 10, 3 );





.primary-navigation {

  a,
  a:visited {

    &:hover,
    &:focus,
    &:active {
    }

    // dropdown arrow
    &:not(:only-child):after {
      padding-left: 2px;
      content: ' â–¾';
    }
  }

  .sub-menu {

    a {

      &:hover,
      &:focus,
      &:active {
      }
    }
  }

  .active,
  .open {
    a {
      background-color: $brand-primary;

      &:hover {
        background-color: $brand-primary--contrast;
      }

      &:focus,
      &:active {
        background-color: $brand-primary;
      }
    }
  }
}

@media #{$breakpoint-medium} {

  .primary-navigation {
    display: flex !important; // required to reset nav on browser resize

    .sub-menu {

      li {
        min-width: 240px;
      }
    }
  }
}





// // vars
//     const navToggle = document.getElementById('nav-toggle');
//     const navPrimary = document.getElementById('primary-nav');
//     let navPrimaryLi = document.querySelectorAll('#primary-nav li.menu-item-has-children');



//     // closeOpenItems function
//     function closeOpenItems() {
//       let navPrimaryLi = document.querySelectorAll('#primary-nav li.menu-item-has-children.open');
//       navPrimaryLi.forEach(function(el) {
//         el.classList.remove('open');
//         el.firstElementChild.setAttribute('aria-expanded', 'false');
//         el.lastElementChild.style.display = 'none';
//       });
//     }



//     // event delegation
//     document.addEventListener('click', function(event) {
//       // outside element click
//       if (!event.target.closest('.primary-navigation')) {
//         closeOpenItems()
//       }
//       // element click
//       // Hamburger toggle -> Nav
//       if (event.target.matches('.hamburger')) {
//         navToggle.classList.toggle('is-active');
//         // navPrimary.classList.toggle('db');
//         slideToggle(navPrimary, 150);
//       }
//     });



//     Array.prototype.forEach.call(navPrimaryLi, function(el){
//       // show/hide sub-menus on click
//       el.querySelector('a').addEventListener('click', function(e){

//         if (this.parentNode.classList.contains('open')) {
//           closeOpenItems()
//         } else {
//           closeOpenItems()
//           this.parentNode.classList.add('open');
//           this.setAttribute('aria-expanded', 'true');
//           this.nextElementSibling.style.display = 'block';
//         }
//         e.preventDefault();
//       });
//     });
